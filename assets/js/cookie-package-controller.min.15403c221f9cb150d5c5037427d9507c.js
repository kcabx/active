function _activeScriptNode(_scriptNode){var cloneScriptNode=_scriptNode.cloneNode(true);cloneScriptNode.setAttribute("type","text/javascript");_scriptNode.parentNode.replaceChild(cloneScriptNode,_scriptNode)}
function activeScriptNode(scriptNode){if(!scriptNode)return;if(scriptNode.getAttribute("type")==="text/plain"){var isDocNotComplete=document.readyState!=="complete";if(isDocNotComplete&&!scriptNode.classList.contains("optanon-category-2")){window.dataLayer=window.dataLayer||[];window.addEventListener("load",function(){setTimeout(function(){_activeScriptNode(scriptNode)})})}else _activeScriptNode(scriptNode)}}
function inactiveScriptNode(scriptNode){if(scriptNode.getAttribute("type")==="text/javascript"){var cloneScriptNode=scriptNode.cloneNode(true);cloneScriptNode.setAttribute("type","text/plain");scriptNode.parentNode.replaceChild(cloneScriptNode,scriptNode)}}function removeCookie(cookie){var expirationTime=new Date;expirationTime.setDate(expirationTime.getDate()-1);document.cookie=cookie+"\x3d"+escape("")+";expires\x3d"+expirationTime.toUTCString()+";"}
function activeCookieScripts(cookieClassName){if(!thirdPartyEmbedded()){var selectorName="."+cookieClassName;$(selectorName).each(function(){activeScriptNode($(this)[0])})}}
var cookieInitEnvHandleForModeB=function(){var $cookieDataInput=$("#cookie-mode-b");var hasCookieDataInput=$cookieDataInput.length!==0;if(!hasCookieDataInput)return;function uuid(){return([1E7]+-1E3+-4E3+-8E3+-1E11).replace(/[018]/g,function(c){return(c^crypto.getRandomValues(new Uint8Array(1))[0]&15>>c/4).toString(16)})}function ajaxWidthRetry(ajaxConfig,_retryCount,_retryInterval,validateFunc){var deferred=$.Deferred();var maxCount=10;var minCount=1;var retryCount=_retryCount>=minCount&&_retryCount<=
maxCount?_retryCount:minCount;var retryInterval=typeof _retryInterval==="number"?_retryInterval:100;var isEnableVerifyResFunc="function"===typeof validateFunc;var request=function(){$.ajax(ajaxConfig).done(function(data){if(!isEnableVerifyResFunc){deferred.resolve(data);return}var result=validateFunc(data);if(!result.isPassed&&--retryCount<=0)deferred.reject(result.message);else if(result.isPassed)deferred.resolve(data);else setTimeout(function(){request()},retryInterval)}).fail(function(error){if(--retryCount<=
0)deferred.reject(error);else setTimeout(function(){request()},retryInterval)})};request();return deferred.promise()}var dataset=$cookieDataInput.get(0).dataset;var baseUrl=mktConfig.sgwApi;var configFieldNameForCache="prevConfigDate";var curSiteCode=window.siteCode;var apiPath="/cmkt/privacy/cookie-record/1";var cookieFieldName="cookie_consent";var curChosenVal=getCookie("huawei_store_accept_cookie_choose");var sgwAppId="DE1FDF33D6278164A62EC486793F7CCF";return{getCache:function(field){var cookieConsentVal=
getCookie(cookieFieldName);if(!cookieConsentVal)return"";var valObj=JSON.parse(cookieConsentVal);if(field&&typeof field==="string"){var val=valObj[field];return typeof val!=="undefined"?val:""}else if(typeof field==="undefined")return valObj;return""},updateCache:function(obj,expires){if("[object Object]"!==Object.prototype.toString.call(obj))return;var curVal=this.getCache();var latestObj=curVal?Object.assign({},curVal,obj):obj;var acceptRetainDay=+this.getDataset("acceptRetainDay")||360;var rejectRetainDay=
+this.getDataset("rejectRetainDay")||360;setJPCookie(cookieFieldName,encodeURIComponent(JSON.stringify(latestObj)),expires||Math.max(acceptRetainDay,rejectRetainDay));this.updateInnerVarState()},getDataset:function(field){var _dataset=Object.assign({},dataset);return typeof field==="string"?(_dataset[field]||"").trim():dataset},show:function(isForce){var _isForce=typeof isForce==="boolean"?isForce:false;showJpCookie(_isForce)},hide:function(){JPCookieBanner()},isEnabledNewCfg:function(){return this.getDataset("newCfgModeEnabled")===
"true"},updateInnerVarState:function(isForceUpdate){var _isForceUpdate=typeof isForceUpdate==="boolean"?isForceUpdate:false;curChosenVal=_isForceUpdate?"":getCookie("huawei_store_accept_cookie_choose")},isChosenChanged:function(){var lastedState=getCookie("huawei_store_accept_cookie_choose");return curChosenVal!==lastedState},compareCache:function(date){if(!date)return{action:"doNothing"};var prevConfigDate=this.getCache(configFieldNameForCache);if(!prevConfigDate){var $jscomp$compprop0={};this.updateCache(($jscomp$compprop0[configFieldNameForCache]=
date,$jscomp$compprop0));return{action:"append"}}else{var isMatched=+new Date(date)>+new Date(prevConfigDate);if(isMatched){var $jscomp$compprop1={};this.updateCache(($jscomp$compprop1[configFieldNameForCache]=date,$jscomp$compprop1));return{action:"update"}}else return{action:"doNothing"}}},clearCookie:function(){if(!window.pushForConsentTimeNewMode)return;if(!this.isEnabledNewCfg())return;var result=this.compareCache(pushForConsentTimeNewMode);if(result.action!=="doNothing"){$.removeCookie("huawei_store_accept_cookie_flag",
{domain:"huawei.com",path:"/"+curSiteCode});$.removeCookie("huawei_store_accept_cookie_choose",{domain:"huawei.com",path:"/"+curSiteCode});this.updateInnerVarState()}},commitData:function(newData,successCb,failCb){if(!this.isEnabledNewCfg())return;var isNeedPublished=typeof newData.isNeedPublished==="boolean"?newData.isNeedPublished:true;var cookieCategoryObj={};var analyticalCookieSelected=$(".switch-container.js-analytical-cookie-category")&&$(".switch-container.js-analytical-cookie-category").hasClass("active");
var advertisingCookieSelected=$(".switch-container.js-advertising-cookie-category")&&$(".switch-container.js-advertising-cookie-category").hasClass("active");if(newData.isAccept)cookieCategoryObj={consents_approved:"cookie_category_necessary,cookie_category_statistic,cookie_category_marketing",consents_denied:""};else if(newData.isAccept===false)cookieCategoryObj={consents_approved:"cookie_category_necessary",consents_denied:"cookie_category_statistic,cookie_category_marketing"};else if(newData.isAccept===
undefined){if(analyticalCookieSelected&&!advertisingCookieSelected)cookieCategoryObj={consents_approved:"cookie_category_necessary,cookie_category_statistic",consents_denied:"cookie_category_marketing"};if(advertisingCookieSelected&&!analyticalCookieSelected)cookieCategoryObj={consents_approved:"cookie_category_necessary,cookie_category_marketing",consents_denied:"cookie_category_statistic"};if(analyticalCookieSelected&&advertisingCookieSelected)cookieCategoryObj={consents_approved:"cookie_category_necessary,cookie_category_statistic,cookie_category_marketing",
consents_denied:""};if(!analyticalCookieSelected&&!advertisingCookieSelected)cookieCategoryObj={consents_approved:"cookie_category_necessary",consents_denied:"cookie_category_statistic,cookie_category_marketing"}}var dataPushEnabled=this.getDataset("dataPushEnabled")==="true";var defaults={cookieId:uuid(),consentStatus:"approved",consentUrl:function(){var baseSiteUrl=location.origin;var siteName=window.siteCode||location.pathname.split("/")[1];return baseSiteUrl+"/"+siteName}(),userAgent:navigator.userAgent,
timeStamp:(new Date).toISOString()};var isAllSelected=newData.isAllSelected;delete newData.isNeedPublished;delete newData.isAccept;delete newData.isAllSelected;var data=Object.assign({},defaults,newData,cookieCategoryObj);var cookieData=Object.assign({},defaults,newData,cookieCategoryObj);var jsonDataStr=JSON.stringify(data);jsonDataStr=jsonDataStr.replace("consents_approved","consentsApproved");jsonDataStr=jsonDataStr.replace("consents_denied","consentsDenied");cookieData.consents_approved=cookieData.consents_approved.length?
cookieData.consents_approved.split(","):[];cookieData.consents_denied=cookieData.consents_denied.length?cookieData.consents_denied.split(","):[];var expiresTime="";if(data.consentStatus==="category_selection")expiresTime=isAllSelected?this.getDataset("acceptRetainDay"):this.getDataset("rejectRetainDay");else expiresTime=data.consentStatus==="approved"?this.getDataset("acceptRetainDay"):this.getDataset("rejectRetainDay");this.updateCache(cookieData,expiresTime);isNeedPublished&&dataPushEnabled&&ajaxWidthRetry({url:baseUrl+
apiPath,type:"post",contentType:"application/json",data:jsonDataStr,headers:{"SGW-APP-ID":sgwAppId}},3,1E3,function(responseData){var _responseData=responseData||{};return{isPassed:_responseData.code==="200",message:_responseData.message}}).done(function(res){typeof successCb==="function"&&successCb(res)}).fail(function(e){typeof failCb==="function"&&failCb(e)})}}}();
$(function(){var cookieMode=cookieInitEnvHandleForModeB?cookieInitEnvHandleForModeB.getDataset("cookieMode"):"mode-a";var acceptRetainDay=cookieInitEnvHandleForModeB?+cookieInitEnvHandleForModeB.getDataset("acceptRetainDay"):360;var rejectRetainDay=cookieInitEnvHandleForModeB?+cookieInitEnvHandleForModeB.getDataset("rejectRetainDay"):360;var xIconAcceptState=cookieInitEnvHandleForModeB?cookieInitEnvHandleForModeB.getDataset("closeIconToAccept"):"false";var isEnabledNewCookieSettings=cookieInitEnvHandleForModeB?
cookieInitEnvHandleForModeB.getDataset("newCfgModeEnabled"):"false";function enableCorrectCookie(){var chosenCookieCats=getCookie("huawei_store_accept_cookie_choose");var isAccept=chosenCookieCats&&chosenCookieCats!=="0|0|0";if(!enableNewCookieCfg)isAccept&&activeCookieScripts("cookie-package-controller");else{if(ctlAnalysisCookie&&isAccept)activeCookieScripts("analysis-cookie");if(ctlAdvertiseCookie&&isAccept)activeCookieScripts("advertise-cookie")}}var isAccept=getCookie("huawei_store_accept_cookie_flag");
if(isAccept==="true")enableCorrectCookie();var enableControl=$(".cookie-data").length>0?$(".cookie-data").attr("the-package-control-of-cookies-enabled"):"";$(".convergent-cookie-agree").on("click",function(){enableCorrectCookie()});$(".convergent-cookie-reject").on("click",function(){setJPCookie("huawei_store_accept_cookie_flag",true,rejectRetainDay);setJPCookie("huawei_store_accept_cookie_choose","0|0|0",rejectRetainDay)});if(window.cookieInitEnvHandleForModeB){window.dataLayer.push({"event":"cookie_category_necessary"});
window.dataLayer.push({"event":"cookie_category_statistic"});window.dataLayer.push({"event":"cookie_category_marketing"});var analyticalSelected=cookieInitEnvHandleForModeB.getCache("consents_approved").indexOf("cookie_category_statistic")!==-1;var advertisingSelected=cookieInitEnvHandleForModeB.getCache("consents_approved").indexOf("cookie_category_marketing")!==-1;var $analyticalDom=$(".switch-container.js-analytical-cookie-category");var $advertisingDom=$(".switch-container.js-advertising-cookie-category");
if(analyticalSelected&&$analyticalDom)$analyticalDom.addClass("active");else $analyticalDom.removeClass("active");if(advertisingSelected&&$advertisingDom)$advertisingDom.addClass("active");else $advertisingDom.removeClass("active")}$(".huawei-convergent-cookie:not(.x-btn-disabled) .convergent-cookie-close").on("click",function(){if($(".convergent-cookie-agree").length>0){if(cookieInitEnvHandleForModeB&&isEnabledNewCookieSettings==="true"){var isAcceptAction=xIconAcceptState==="true";var _retainDay=
isAcceptAction?acceptRetainDay:rejectRetainDay;setJPCookie("huawei_store_accept_cookie_flag",true,_retainDay);setJPCookie("huawei_store_accept_cookie_choose",isAcceptAction?"1|1|1":"0|0|0",_retainDay);enableCorrectCookie()}else{var isNotModeD=!!$(".huawei-convergent-cookie.model-default").length;if(!enableNewCookieCfg&&enableControl||enableNewCookieCfg&&(ctlAnalysisCookie||ctlAdvertiseCookie)){setJPCookie("huawei_store_accept_cookie_flag",true,360);setJPCookie("huawei_store_accept_cookie_choose",
isNotModeD?"1|0|0":"1|1|1",360)}else{setJPCookie("huawei_store_accept_cookie_flag",true,360);setJPCookie("huawei_store_accept_cookie_choose",isNotModeD?"0|0|0":"1|1|1",360)}!isNotModeD&&enableCorrectCookie()}var isChanged=cookieInitEnvHandleForModeB&&cookieInitEnvHandleForModeB.isChosenChanged();if(isChanged){var chosenCookieCats=getCookie("huawei_store_accept_cookie_choose");var isAccept=chosenCookieCats&&chosenCookieCats!=="0|0|0";cookieInitEnvHandleForModeB&&cookieInitEnvHandleForModeB.commitData({consentStatus:isAccept?
"approved":"denied"})}}});$(".huawei-convergent-cookie .convergent-cookie-save-button .save-button").on("click",function(){var acceptRetainDay=window.cookieInitEnvHandleForModeB?+cookieInitEnvHandleForModeB.getDataset("acceptRetainDay"):360;var rejectRetainDay=window.cookieInitEnvHandleForModeB?+cookieInitEnvHandleForModeB.getDataset("rejectRetainDay"):360;var analyticalCookieSelected=$(".switch-container.js-analytical-cookie-category")&&$(".switch-container.js-analytical-cookie-category").hasClass("active")?
1:0;var advertisingCookieSelected=$(".switch-container.js-advertising-cookie-category")&&$(".switch-container.js-advertising-cookie-category").hasClass("active")?1:0;var allSelected=analyticalCookieSelected===1&&advertisingCookieSelected===1;setJPCookie("huawei_store_accept_cookie_flag",true,allSelected?acceptRetainDay:rejectRetainDay);if(analyticalCookieSelected===0)setJPCookie("huawei_store_accept_cookie_choose","0|0|0",rejectRetainDay);else setJPCookie("huawei_store_accept_cookie_choose","1|"+
analyticalCookieSelected+"|"+advertisingCookieSelected+"",allSelected?acceptRetainDay:rejectRetainDay);JPCookieBanner("",false);var isChanged=cookieInitEnvHandleForModeB&&cookieInitEnvHandleForModeB.isChosenChanged();if(isChanged)cookieInitEnvHandleForModeB&&cookieInitEnvHandleForModeB.commitData({consentStatus:"category_selection",isNeedPublished:true,isAllSelected:allSelected});if(analyticalCookieSelected)activeCookieScripts("analysis-cookie")})});